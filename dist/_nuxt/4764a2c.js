(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{311:function(t,r,e){"use strict";var o=e(13),n=(e(70),{name:"Header",mounted:function(){$(".search-option").hide(),$(".main-search").on("click",(function(){$(".search-option").animate({height:"toggle"})}));var t=$(window),r=$("#sticker");t.on("scroll",(function(){t.scrollTop()<300?r.removeClass("stick"):r.addClass("stick")})),$("nav#dropdown").meanmenu()},methods:{logout:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return localStorage.removeItem("auth.loginState"),r.next=3,t.$auth.logout();case 3:t.$router.push("/"),location.reload();case 5:case"end":return r.stop()}}),r)})))()}}}),l=e(49),component=Object(l.a)(n,(function(){var t=this,r=t._self._c;return r("header",{staticClass:"header-one"},[r("div",{staticClass:"header-area-admin hidden-xs",attrs:{id:"sticker"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-2 col-sm-2"},[r("div",{staticClass:"logo"},[r("nuxt-link",{staticClass:"navbar-brand page-scroll black-logo",attrs:{to:"/proprio/home"}},[r("img",{attrs:{src:"/img/logos/logo wh.png",alt:"logo"}})])],1)]),t._v(" "),r("div",{staticClass:"col-md-10 col-sm-10 pr-3"},[r("nav",{staticClass:"navbar navbar-default"},[r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbar-example"}},[r("div",{staticClass:"main-menu-admin"},[r("ul",{staticClass:"nav navbar-nav navbar-center"},[t._m(0),t._v(" "),r("li",[r("a",{staticClass:"pages",attrs:{href:"#"}},[t._v("Gérer mes propriétés")]),t._v(" "),r("ul",{staticClass:"sub-menu"},[r("li",[r("nuxt-link",{attrs:{to:"/proprio/propriete/add"}},[t._v("Ajouter une chambre")])],1),t._v(" "),r("li",[r("nuxt-link",{attrs:{to:"/proprio/propriete/get"}},[t._v("Voir toutes les chambres")])],1)])]),t._v(" "),r("li",[r("a",{staticClass:"pages",attrs:{href:"#"}},[t._v("Mon compte")]),t._v(" "),r("ul",{staticClass:"sub-menu"},[r("li",[r("nuxt-link",{attrs:{to:"/proprio/profil"}},[t._v("Modifier mon profil")])],1),t._v(" "),r("li",[r("nuxt-link",{attrs:{to:"/proprio/password"}},[t._v("Changer Mot de passe\n                                                ")])],1),t._v(" "),r("li",{on:{click:function(r){return r.preventDefault(),t.logout()}}},[r("nuxt-link",{attrs:{to:"#"}},[t._v("Déconnexion\n                                                ")])],1)])])])])])])])])])]),t._v(" "),r("div",{staticClass:"mobile-menu-area hidden-lg hidden-md hidden-sm"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"mobile-menu"},[r("div",{staticClass:"logo"},[r("nuxt-link",{attrs:{to:"/proprio/home"}},[r("img",{attrs:{src:"/img/logos/logo bl.png",alt:"logo"}})])],1),t._v(" "),r("nav",{attrs:{id:"dropdown"}},[r("ul",[t._m(1),t._v(" "),r("li",[r("a",{staticClass:"pages",attrs:{href:"#"}},[t._v("Gérer mes propriétés")]),t._v(" "),r("ul",{staticClass:"sub-menu"},[r("li",[r("nuxt-link",{attrs:{to:"/proprio/propriete/add"}},[t._v("Ajouter une chambre")])],1),t._v(" "),r("li",[r("nuxt-link",{attrs:{to:"/proprio/propriete/get"}},[t._v("Voir toutes les chambres")])],1)])]),t._v(" "),r("li",[r("a",{staticClass:"pages",attrs:{href:"#"}},[t._v("Mon compte")]),t._v(" "),r("ul",{staticClass:"sub-menu"},[r("li",[r("nuxt-link",{attrs:{to:"/proprio/profil"}},[t._v("Modifier mon profil")])],1),t._v(" "),r("li",[r("nuxt-link",{attrs:{to:"/proprio/password"}},[t._v("Changer Mot de passe\n                                            ")])],1)])]),t._v(" "),r("li",[r("nuxt-link",{attrs:{to:"/proprio/logout"}},[t._v("Déconnexion\n                                    ")])],1)])])])])])])])])}),[function(){var t=this._self._c;return t("li",[t("a",{staticClass:"pages_simple",attrs:{href:"/proprio/home"}},[this._v("Accueil")])])},function(){var t=this._self._c;return t("li",[t("a",{staticClass:"pages",attrs:{href:"/proprio/home"}},[this._v("Accueil")])])}],!1,null,"be298560",null);r.a=component.exports},312:function(t,r,e){"use strict";var o={name:"Footer"},n=e(49),component=Object(n.a)(o,(function(){this._self._c;return this._m(0)}),[function(){var t=this,r=t._self._c;return r("footer",{staticClass:"footer1"},[r("div",{staticClass:"footer-area-bottom-admin"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12 col-sm-12 col-xs-12"},[r("div",{staticClass:"copyright-admin"},[r("p",{staticClass:"text-center"},[t._v("\n                            Copyright © 2024\n                            "),r("a",{attrs:{href:"#"}},[t._v("MiMob")]),t._v(" Tous droits réservés.\n                        ")])])])])])])])}],!1,null,"a6b6fb0a",null);r.a=component.exports},327:function(t,r,e){"use strict";e.r(r);var o=e(311),n=e(13),l=(e(70),{name:"UserInfo",data:function(){return{success:null,error:null,loading:!1,form:{old_password:"",password:"",password_confirmation:""},userId:"",errors:[]}},mounted:function(){this.recupUser()},methods:{recupUser:function(){var t=this;this.$axios.get("user").then((function(r){t.userId=r.data.id,t.form.phone=r.data.phone}))},viewPassword:function(t){var r=t.currentTarget,e=r.getAttribute("toggle"),input=document.querySelector(e);if(input){var o="password"===input.getAttribute("type");input.setAttribute("type",o?"text":"password"),r.classList.toggle("fa-eye"),r.classList.toggle("fa-eye-slash")}},changePassword:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,t.$axios.post("/modify-password",{phone:t.form.phone,old_password:t.form.old_password,password:t.form.password,password_confirmation:t.form.password_confirmation}).then((function(r){"success"==r.data.status?(t.form.old_password="",t.form.password="",t.form.password_confirmation="",t.loading=!1,t.error=!1,t.success="Votre mot de passe a été modifié avec succès"):(t.loading=!1,t.success=!1,t.errors=r.data.data,t.error=r.data.message)})).catch((function(t){return console.log(t)}));case 3:case"end":return r.stop()}}),r)})))()}}}),c=e(49),d=Object(c.a)(l,(function(){var t=this,r=t._self._c;return r("div",{staticClass:"login-area"},[r("div",{staticClass:"section-admin row"},[r("div",{staticClass:"col-md-6"}),t._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"password-box"},[r("div",{staticClass:"form-value"},[r("form",{attrs:{action:""}},[r("h4",{staticClass:"login-title text-center"},[t._v("Changer mot de passe")]),t._v(" "),t.error?r("div",{staticClass:"error-message"},[t._v("\n                            "+t._s(t.error)+"\n                        ")]):t._e(),t._v(" "),t.success?r("div",{staticClass:"success-message"},[t._v("\n                            "+t._s(t.success)+"\n                        ")]):t._e(),t._v(" "),r("div",{staticClass:"inputbox"},[r("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password",attrs:{toggle:"#password1"},on:{click:function(r){return r.preventDefault(),t.viewPassword(r)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.old_password,expression:"form.old_password"}],attrs:{id:"password1",type:"password",required:""},domProps:{value:t.form.old_password},on:{input:function(r){r.target.composing||t.$set(t.form,"old_password",r.target.value)}}}),t._v(" "),r("label",{attrs:{for:""}},[r("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),t._v("Ancien Mot de passe"),t.errors.password?r("span",{staticClass:"register_error"},[t._v("*Corrigez le mot de passe")]):t._e()])]),t._v(" "),r("div",{staticClass:"inputbox"},[r("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password",attrs:{toggle:"#password-field"},on:{click:function(r){return r.preventDefault(),t.viewPassword(r)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{id:"password-field",type:"password",required:""},domProps:{value:t.form.password},on:{input:function(r){r.target.composing||t.$set(t.form,"password",r.target.value)}}}),t._v(" "),r("label",{attrs:{for:""}},[r("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),t._v("Nouveau Mot de passe"),t.errors.password?r("span",{staticClass:"register_error"},[t._v("*Corrigez le mot de passe")]):t._e()])]),t._v(" "),r("div",{staticClass:"inputbox"},[r("span",{staticClass:"fa fa-fw fa-eye field-icon toggle-password",attrs:{toggle:"#password"},on:{click:function(r){return r.preventDefault(),t.viewPassword(r)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password_confirmation,expression:"form.password_confirmation"}],attrs:{id:"password",type:"password",required:""},domProps:{value:t.form.password_confirmation},on:{input:function(r){r.target.composing||t.$set(t.form,"password_confirmation",r.target.value)}}}),t._v(" "),t._m(0)]),t._v(" "),r("button",{staticClass:"new-login-btn",class:{"btn-loading":t.loading},on:{click:function(r){return r.preventDefault(),t.changePassword()}}},[t._v("Enregistrer"),t.loading?r("span",{staticClass:"spinner"}):t._e()])])])])])])])}),[function(){var t=this._self._c;return t("label",{attrs:{for:""}},[t("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),this._v(" Confirmer Nouveau Mot de passe")])}],!1,null,"5425e518",null).exports,v=e(312),f={auth:!0,name:"password",components:{Header:o.a,ChangePassword:d,Footer:v.a}},m=Object(c.a)(f,(function(){var t=this,r=t._self._c;return r("div",[r("Header"),t._v(" "),r("ChangePassword"),t._v(" "),r("Footer")],1)}),[],!1,null,null,null);r.default=m.exports}}]);