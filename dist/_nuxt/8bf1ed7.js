(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{311:function(t,e,r){"use strict";var o=r(13),n=(r(70),{name:"Header",mounted:function(){$(".search-option").hide(),$(".main-search").on("click",(function(){$(".search-option").animate({height:"toggle"})}));var t=$(window),e=$("#sticker");t.on("scroll",(function(){t.scrollTop()<300?e.removeClass("stick"):e.addClass("stick")})),$("nav#dropdown").meanmenu()},methods:{logout:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("auth.loginState"),e.next=3,t.$auth.logout();case 3:t.$router.push("/"),location.reload();case 5:case"end":return e.stop()}}),e)})))()}}}),l=r(49),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("header",{staticClass:"header-one"},[e("div",{staticClass:"header-area-admin hidden-xs",attrs:{id:"sticker"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-2 col-sm-2"},[e("div",{staticClass:"logo"},[e("nuxt-link",{staticClass:"navbar-brand page-scroll black-logo",attrs:{to:"/proprio/home"}},[e("img",{attrs:{src:"/img/logos/logo wh.png",alt:"logo"}})])],1)]),t._v(" "),e("div",{staticClass:"col-md-10 col-sm-10 pr-3"},[e("nav",{staticClass:"navbar navbar-default"},[e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbar-example"}},[e("div",{staticClass:"main-menu-admin"},[e("ul",{staticClass:"nav navbar-nav navbar-center"},[t._m(0),t._v(" "),e("li",[e("a",{staticClass:"pages",attrs:{href:"#"}},[t._v("Gérer mes propriétés")]),t._v(" "),e("ul",{staticClass:"sub-menu"},[e("li",[e("nuxt-link",{attrs:{to:"/proprio/propriete/add"}},[t._v("Ajouter une chambre")])],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/proprio/propriete/get"}},[t._v("Voir toutes les chambres")])],1)])]),t._v(" "),e("li",[e("a",{staticClass:"pages",attrs:{href:"#"}},[t._v("Mon compte")]),t._v(" "),e("ul",{staticClass:"sub-menu"},[e("li",[e("nuxt-link",{attrs:{to:"/proprio/profil"}},[t._v("Modifier mon profil")])],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/proprio/password"}},[t._v("Changer Mot de passe\n                                                ")])],1),t._v(" "),e("li",{on:{click:function(e){return e.preventDefault(),t.logout()}}},[e("nuxt-link",{attrs:{to:"#"}},[t._v("Déconnexion\n                                                ")])],1)])])])])])])])])])]),t._v(" "),e("div",{staticClass:"mobile-menu-area hidden-lg hidden-md hidden-sm"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"mobile-menu"},[e("div",{staticClass:"logo"},[e("nuxt-link",{attrs:{to:"/proprio/home"}},[e("img",{attrs:{src:"/img/logos/logo bl.png",alt:"logo"}})])],1),t._v(" "),e("nav",{attrs:{id:"dropdown"}},[e("ul",[t._m(1),t._v(" "),e("li",[e("a",{staticClass:"pages",attrs:{href:"#"}},[t._v("Gérer mes propriétés")]),t._v(" "),e("ul",{staticClass:"sub-menu"},[e("li",[e("nuxt-link",{attrs:{to:"/proprio/propriete/add"}},[t._v("Ajouter une chambre")])],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/proprio/propriete/get"}},[t._v("Voir toutes les chambres")])],1)])]),t._v(" "),e("li",[e("a",{staticClass:"pages",attrs:{href:"#"}},[t._v("Mon compte")]),t._v(" "),e("ul",{staticClass:"sub-menu"},[e("li",[e("nuxt-link",{attrs:{to:"/proprio/profil"}},[t._v("Modifier mon profil")])],1),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/proprio/password"}},[t._v("Changer Mot de passe\n                                            ")])],1)])]),t._v(" "),e("li",[e("nuxt-link",{attrs:{to:"/proprio/logout"}},[t._v("Déconnexion\n                                    ")])],1)])])])])])])])])}),[function(){var t=this._self._c;return t("li",[t("a",{staticClass:"pages_simple",attrs:{href:"/proprio/home"}},[this._v("Accueil")])])},function(){var t=this._self._c;return t("li",[t("a",{staticClass:"pages",attrs:{href:"/proprio/home"}},[this._v("Accueil")])])}],!1,null,"be298560",null);e.a=component.exports},312:function(t,e,r){"use strict";var o={name:"Footer"},n=r(49),component=Object(n.a)(o,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer1"},[e("div",{staticClass:"footer-area-bottom-admin"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 col-sm-12 col-xs-12"},[e("div",{staticClass:"copyright-admin"},[e("p",{staticClass:"text-center"},[t._v("\n                            Copyright © 2024\n                            "),e("a",{attrs:{href:"#"}},[t._v("MiMob")]),t._v(" Tous droits réservés.\n                        ")])])])])])])])}],!1,null,"a6b6fb0a",null);e.a=component.exports},317:function(t,e,r){"use strict";var o=r(2),n=r(71).find,l=r(152),c="find",v=!0;c in[]&&Array(1)[c]((function(){v=!1})),o({target:"Array",proto:!0,forced:v},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),l(c)},332:function(t,e,r){"use strict";r.r(e);var o=r(311),n=(r(40),r(50),r(17),r(26),r(151),r(13)),l=(r(70),r(317),r(315)),c=r.n(l),v=(r(316),{name:"EditPropriete",components:{vSelect:c.a},data:function(){return{loading:!1,form:{id:"",type:"",ville_id:"",quartier_id:"",feature:"",indication:"",nbre_habitation:"",nbre_salon:1,nbre_chambre:"",nbre_cuisine:1,nbre_douche:1,loyer:"",compteur:"",caution_type:"",caution_eau_electricite:"",autres:"",garage:"",statut:"disponible",user_id:1,image:""},villes:[],quartiers:[],caution_types:[],errors:[],error:null,selectedFile:null,selectedVille:null,propriete_id:null,images:[]}},mounted:function(){this.getVilles(),this.recupPropriete()},methods:{addVille:function(t){var e=this;this.$axios.post("/villes",{name:t}).then((function(t){"success"==t.data.status?e.getVilles():e.error=t.data.message}))},addQuartier:function(t){var e=this;this.$axios.post("/quartiers",{name:t,ville_id:this.form.ville_id}).then((function(t){if("Quartier créé avec succès"==t.data.message){var r=t.data.data,o=e.villes.find((function(t){return t.id===e.form.ville_id}));o&&(o.quartiers||(o.quartiers=[]),o.quartiers.push(r)),e.selectedVille=o}else e.error="Erreur! Veuillez réerssayer."}))},updateSelectedQuartier:function(){},recupPropriete:function(){var t=this;this.$axios.get("/proprietes/"+this.$route.params.id,{params:{user_id:this.$auth.user.id}}).then((function(e){console.log(e);var r=e.data.data.propriete;t.form.id=r.id,t.form.type=r.type,t.form.feature=r.feature,t.form.ville_id=r.ville_id,t.form.quartier_id=r.quartier_id,t.form.indication=r.indication,t.form.nbre_habitation=r.nbre_habitation,t.form.nbre_salon=r.nbre_salon,t.form.nbre_chambre=r.nbre_chambre,t.form.nbre_cuisine=r.nbre_cuisine,t.form.nbre_douche=r.nbre_douche,t.form.loyer=r.loyer,t.form.compteur=r.compteur,t.form.caution_type=r.caution_type,t.form.caution_eau_electricite=r.caution_eau_electricite,t.form.autres=r.autres,t.form.garage=r.garage,t.form.statut=r.statut,t.images=r.propriete_pictures,t.updateSelectedVille()}))},updateSelectedVille:function(){var t=this;this.selectedVille=this.villes.find((function(e){return e.id===t.form.ville_id}))},handleFileUpload:function(t){this.selectedFile=t.target.files[0]},getVilles:function(){var t=this;this.$axios.get("/villes").then((function(e){t.villes=e.data.data,t.quartiers=e.data.data}))},submit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.put("/proprietes/"+t.$route.params.id,{id:t.$route.params.id,type:t.form.type,ville_id:t.form.ville_id,feature:t.form.feature,quartier_id:t.form.quartier_id,indication:t.form.indication,nbre_habitation:t.form.nbre_habitation,nbre_cuisine:t.form.nbre_cuisine,nbre_douche:t.form.nbre_douche,loyer:t.form.loyer,caution_type:t.form.caution_type,compteur:t.form.compteur,garage:t.form.garage,caution_eau_electricite:t.form.caution_eau_electricite,autres:t.form.autres,statut:t.form.statut,user_id:t.$auth.user.id}).then((function(e){t.loading=!1,console.log(e),"success"==e.data.status?t.$router.push({path:"/proprio/propriete/voir/"+t.$route.params.id}):(t.loading=!1,t.error=e.data.message)})).catch((function(e){t.loading=!1,console.log(e)}));case 3:case"end":return e.stop()}}),e)})))()}}}),d=r(49),m=Object(d.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"about-area-admin area-padding-2 fix"},[e("div",{staticClass:"container"},[t._m(0),t._v(" "),t.error?e("div",{staticClass:"error_message-admin"},[e("i",{staticClass:"fa fa-exclamation-triangle error_info",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.error)+"\n      ")]):t._e(),t._v(" "),e("div",{staticClass:"row ajout-form-admin"},[e("h6",{staticClass:"text-center titre_ajout"},[t._v("MODIFICATION DE PROPRIETE")]),e("hr"),t._v(" "),e("form",{staticClass:"p-5",attrs:{enctype:"multipart/form-data"}},[e("div",{staticClass:"col-md-6 bloc-input"},[t._m(1),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"type",e.target.multiple?r:r[0])}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Choisissez...")]),t._v(" "),e("option",{attrs:{value:"Sanitaire"}},[t._v("Sanitaire")]),t._v(" "),e("option",{attrs:{value:"Ordinaire"}},[t._v("Ordinaire")])])]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[t._m(2),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.feature,expression:"form.feature"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"feature",e.target.multiple?r:r[0])}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Choisissez...")]),t._v(" "),e("option",{attrs:{value:"01 chambre salon"}},[t._v("01 chambre salon")]),t._v(" "),e("option",{attrs:{value:"02 chambres salon"}},[t._v("02 chambres salon")]),t._v(" "),e("option",{attrs:{value:"03 chambres salon"}},[t._v("03 chambres salon")]),t._v(" "),e("option",{attrs:{value:"04 chambres salon"}},[t._v("04 chambres salon")])])]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[t._m(3),t._v(" "),e("v-select",{attrs:{placeholder:"Saisissez la ville",label:"name",options:t.villes,reduce:function(t){return t.id},"append-to-body":""},on:{input:t.updateSelectedVille},scopedSlots:t._u([{key:"no-options",fn:function(r){var o=r.search;return[e("div",{staticClass:"add-option"},[e("span",[t._v('Aucune ville trouvée pour "'+t._s(o)+'"')]),t._v(" "),e("button",{staticClass:"btn-add",on:{click:function(e){return t.addVille(o)}}},[t._v('\n                        Ajouter "'+t._s(o)+'"\n                      ')])])]}}]),model:{value:t.form.ville_id,callback:function(e){t.$set(t.form,"ville_id",e)},expression:"form.ville_id"}}),t._v(" "),t.error&&t.errors.ville_id?e("div",{staticClass:"error_type"},[e("i",{staticClass:"fa fa-info-circle error_info",attrs:{"aria-hidden":"true"}}),t._v(" Vous devez choisir la ville\n                ")]):t._e()],1),t._v(" "),t.selectedVille?e("div",{staticClass:"col-md-6 bloc-input"},[e("label",[t._v("Quartier ")]),t._v(" "),e("v-select",{attrs:{placeholder:"Saisissez le quartier",label:"name",options:t.selectedVille.quartiers,reduce:function(t){return t.id},"append-to-body":""},on:{input:t.updateSelectedQuartier},scopedSlots:t._u([{key:"no-options",fn:function(r){var o=r.search;return[e("div",{staticClass:"add-option"},[e("span",[t._v('Aucun quartier trouvé pour "'+t._s(o)+'"')]),t._v(" "),e("button",{staticClass:"btn-add",on:{click:function(e){return t.addQuartier(o)}}},[t._v('\n                        Ajouter "'+t._s(o)+'"\n                      ')])])]}}],null,!1,250976353),model:{value:t.form.quartier_id,callback:function(e){t.$set(t.form,"quartier_id",e)},expression:"form.quartier_id"}})],1):t._e(),t._v(" "),e("div",{staticClass:"col-md-8 div-info_sup"},[e("label",[t._v("Ecrivez une précision sur la zone")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.indication,expression:"form.indication"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"textarea",placeholder:"Saississez une indication de la zone",cols:"30",rows:"3"},domProps:{value:t.form.indication},on:{input:function(e){e.target.composing||t.$set(t.form,"indication",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[t._m(4),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nbre_habitation,expression:"form.nbre_habitation"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"number",placeholder:"Entrer le nombre d'habitation"},domProps:{value:t.form.nbre_habitation},on:{input:function(e){e.target.composing||t.$set(t.form,"nbre_habitation",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[e("label",{staticClass:"title"},[t._v("Compteur Personnel")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.compteur,expression:"form.compteur"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"compteur",e.target.multiple?r:r[0])}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Choisissez...")]),t._v(" "),e("option",{attrs:{value:"Oui"}},[t._v("Oui")]),t._v(" "),e("option",{attrs:{value:"Non"}},[t._v("Non")])])]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[t._m(5),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nbre_cuisine,expression:"form.nbre_cuisine"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"number",placeholder:"Entrer le nombre de cuisine"},domProps:{value:t.form.nbre_cuisine},on:{input:function(e){e.target.composing||t.$set(t.form,"nbre_cuisine",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[t._m(6),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nbre_douche,expression:"form.nbre_douche"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"number",placeholder:"Entrer le nombre de douche"},domProps:{value:t.form.nbre_douche},on:{input:function(e){e.target.composing||t.$set(t.form,"nbre_douche",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[t._m(7),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.loyer,expression:"form.loyer"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"number",placeholder:"Entrer le montant du loyer"},domProps:{value:t.form.loyer},on:{input:function(e){e.target.composing||t.$set(t.form,"loyer",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[t._m(8),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.caution_type,expression:"form.caution_type"}],staticClass:"form-control",attrs:{placeholder:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"caution_type",e.target.multiple?r:r[0])}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Choisissez...")]),t._v(" "),e("option",{attrs:{value:"Aucun"}},[t._v("Aucun")]),t._v(" "),e("option",{attrs:{value:"Sur négociation"}},[t._v("Sur négociation")]),t._v(" "),e("option",{attrs:{value:"1-1-1"}},[t._v("1-1-1")]),t._v(" "),e("option",{attrs:{value:"2-1-1"}},[t._v("2-1-1")]),t._v(" "),e("option",{attrs:{value:"3-1-1"}},[t._v("3-1-1")]),t._v(" "),e("option",{attrs:{value:"Autre"}},[t._v("Autre")])])]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[t._m(9),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.caution_eau_electricite,expression:"form.caution_eau_electricite"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"number",placeholder:"Entrer le le montant de la caution"},domProps:{value:t.form.caution_eau_electricite},on:{input:function(e){e.target.composing||t.$set(t.form,"caution_eau_electricite",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6 bloc-input"},[e("label",{staticClass:"title"},[t._v("Accès véhicule")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.garage,expression:"form.garage"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"garage",e.target.multiple?r:r[0])}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Choisissez...")]),t._v(" "),e("option",{attrs:{value:"Oui"}},[t._v("Oui")]),t._v(" "),e("option",{attrs:{value:"Non"}},[t._v("Non")])])]),t._v(" "),e("div",{staticClass:"col-md-8 m-auto div-info_sup"},[e("label",[t._v("Saisissez des informations supplémentaires")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.autres,expression:"form.autres"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"textarea",placeholder:"Entrer autres",cols:"30",rows:"5"},domProps:{value:t.form.autres},on:{input:function(e){e.target.composing||t.$set(t.form,"autres",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"custom-btn btn-05",class:{"btn-loading-admin":t.loading},attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.submit()}}},[t._v("Enregistrer "),t.loading?e("span",{staticClass:"spinner-admin"}):t._e()])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"single-well-admin mar-well"},[e("a",{attrs:{href:"#"}},[e("h3",[t._v("Espace Propriétaire")])]),t._v(" "),e("p",[t._v("\n            Modifier une propriété.\n        ")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Type "),e("span",{staticClass:"obligatoire"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Chambre Salon"),e("span",{staticClass:"obligatoire"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Ville"),e("span",{staticClass:"obligatoire"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Ajoutez le nombre d'habitation"),e("span",{staticClass:"obligatoire"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Ajoutez le nombre de cuisine"),e("span",{staticClass:"obligatoire"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Ajoutez le nombre de douche"),e("span",{staticClass:"obligatoire"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Ajoutez le loyer"),e("span",{staticClass:"obligatoire"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Type de caution"),e("span",{staticClass:"obligatoire"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("label",[t._v("Ajoutez le montant de la caution eau et électricité"),e("span",{staticClass:"obligatoire"},[t._v("*")])])}],!1,null,"dc7e091c",null).exports,_=r(312),f={auth:!0,name:"edit",components:{Header:o.a,EditPropriete:m,Footer:_.a}},h=Object(d.a)(f,(function(){var t=this,e=t._self._c;return e("div",[e("Header"),t._v(" "),e("EditPropriete"),t._v(" "),e("Footer")],1)}),[],!1,null,null,null);e.default=h.exports}}]);